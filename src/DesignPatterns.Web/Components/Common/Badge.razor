<span class="@GetBadgeClasses() @AdditionalClasses">
    @if (!string.IsNullOrEmpty(Icon))
    {
        <span class="mr-1">@Icon</span>
    }
    @Text
    @ChildContent
</span>

@code {
    [Parameter] public string Text { get; set; } = "";
    [Parameter] public string Icon { get; set; } = "";
    [Parameter] public string Color { get; set; } = "blue"; // blue, green, red, yellow, purple, gray
    [Parameter] public string Size { get; set; } = "md"; // sm, md, lg
    [Parameter] public string Variant { get; set; } = "solid"; // solid, outline, subtle
    [Parameter] public string AdditionalClasses { get; set; } = "";
    [Parameter] public RenderFragment? ChildContent { get; set; }

    private string GetBadgeClasses()
    {
        var baseClasses = "inline-flex items-center font-semibold rounded-full";

        // Tamaño
        var sizeClasses = Size switch
        {
            "sm" => "px-2 py-0.5 text-xs",
            "lg" => "px-4 py-2 text-base",
            _ => "px-3 py-1 text-sm"
        };

        // Color y variante
        var colorClasses = GetColorClasses();

        return $"{baseClasses} {sizeClasses} {colorClasses}";
    }

    private string GetColorClasses()
    {
        // Variante solid (fondo sólido)
        if (Variant == "solid")
        {
            return Color switch
            {
                "green" => "bg-green-500 text-white",
                "red" => "bg-red-500 text-white",
                "yellow" => "bg-yellow-500 text-white",
                "purple" => "bg-purple-500 text-white",
                "gray" => "bg-gray-500 text-white",
                _ => "bg-primary-600 text-white"
            };
        }

        // Variante outline (solo borde)
        if (Variant == "outline")
        {
            return Color switch
            {
                "green" => "border-2 border-green-500 text-green-700 bg-white",
                "red" => "border-2 border-red-500 text-red-700 bg-white",
                "yellow" => "border-2 border-yellow-500 text-yellow-700 bg-white",
                "purple" => "border-2 border-purple-500 text-purple-700 bg-white",
                "gray" => "border-2 border-gray-500 text-gray-700 bg-white",
                _ => "border-2 border-primary-600 text-primary-700 bg-white"
            };
        }

        // Variante subtle (fondo suave)
        return Color switch
        {
            "green" => "bg-green-100 text-green-800",
            "red" => "bg-red-100 text-red-800",
            "yellow" => "bg-yellow-100 text-yellow-800",
            "purple" => "bg-purple-100 text-purple-800",
            "gray" => "bg-gray-100 text-gray-800",
            _ => "bg-blue-100 text-blue-800"
        };
    }
}